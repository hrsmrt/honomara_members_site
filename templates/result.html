{% extends "template.html" %}
{% block content %}
<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <div class="page-header">
                <h1 id="tables">大会記録</h1>
                <div class="bs-component">
                    <ul class="pager">
                        <li class="previous {{ "disabled" if not pagination.has_prev}}"><a
                                href="{{url_for('result',page=pagination.prev_num) }}">&larr; Newer</a></li>
                        <li> {{ pagination.page}}/{{ pagination.pages}} </li>
                        <li class="next  {{ "disabled" if not pagination.has_next}}"><a
                                href="{{url_for('result',page=pagination.next_num) }}">Older &rarr;</a></li>
                    </ul>
                </div>
            </div>
            <div class="row">
                {% for race in pagination.items %}
                <div class="bs-component">
                    <div class="panel panel-default">
                        <div class="panel-heading"> <h3>{{ race.date }} {{ race.race_name }} </h3></div>
                        <div class="panel-body">
                            <div class="bs-component">
                                <table class="table table-striped table-hover ">
                                    <thead>
                                        <tr>
                                            <th>名前</th>
                                            <th>種目</th>
                                            <th>記録</th>
                                            <!-- <th>備考</th> -->
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for result in race.results %}
                                        <tr>
                                            <th>{{ result.member.show_name }}</th>
                                            <th>{{ result.race_type.show_name }}</th>
                                            <!-- <th>{{ result.result }}</th> -->
                                            <th>{{ result.comment[13:] }}</th>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                {% if current_user.is_authenticated %}
                {% endif %}
                {% endfor %}
                <!--        race in pagination.items                  -->
            </div>
            <div class="bs-component">
                <div class="bs-component">
                    <ul class="pager">
                        <li class="previous {{ "disabled" if not pagination.has_prev}}"><a
                                href="{{url_for('result',page=pagination.prev_num) }}">&larr; Newer</a></li>
                        <li> {{ pagination.page}}/{{ pagination.pages}} </li>
                        <li class="next  {{ "disabled" if not pagination.has_next}}"><a
                                href="{{url_for('result',page=pagination.next_num) }}">Older &rarr;</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}