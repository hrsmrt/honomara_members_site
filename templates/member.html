{% extends "template.html" %}
{% block content %}
<div class="container">
    <div class="row">
            <a href="{{url_for('member_edit')}}" class="btn btn-primary btn-lg">新規メンバー登録</a>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="page-header">
                <h1 id="tables">メンバーリスト</h1>
            </div>
            <div class="bs-component">
                <table class="table table-striped table-hover ">
                    <thead>
                        <tr>
                            <th>入学年度</th>
                            <th>姓</th>
                            <th>名</th>
                            <th>表示名</th>
                            <th>性別</th>
                            <th>状態</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for member in members %}
                        <tr>
                                <th>{{  member.year }}</th>
                                <th>{{ member.family_name }}{{"(" + member.family_kana  + ")"  if member.family_kana  }}</th>
                                <th>{{ member.first_name }}{{"(" + member.first_kana  + ")"  if member.first_kana  }}</th>
                                <th>{{ member.show_name }}</th>
                                <th>
                                    {% if member.sex == 0 %}
                                        男
                                        {% else %}
                                        女
                                    {% endif %}
                                </th>
                                <th>
                                    {% if member.visible %}
                                            表示
                                    {% else %}
                                            非表示
                                    {% endif %}
                                </th>
                                <th>
                                    <form method="get" action="{{url_for('member_edit')}}">
                                        <input type="hidden" name="method" value="PUT">
                                        <input type="hidden" name="member_id" value="{{member.member_id}}">
                                        <input type="submit" value="編集"  class="btn btn-warning">
                                    </form>
                            </th>
                                <th>
                                    <form method="post" action="{{url_for('member_confirm')}}">
                                            <input type="hidden" name="method" value="DELETE">
                                            <input type="hidden" name="member_id" value="{{member.member_id}}">
                                            <input type="submit" value="削除"  class="btn btn-danger">
                                    </form>
                                </th>    
                        </tr>
                        {% endfor %}                        
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}
